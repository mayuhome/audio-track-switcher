# ğŸµ Audio Track Switcher

ä¸€ä¸ªåŸºäº Tauri + React + Go çš„è·¨å¹³å°è§†é¢‘éŸ³è½¨åˆ‡æ¢å·¥å…·ï¼Œä½¿ç”¨ FFmpeg å®ç°è§†é¢‘æ–‡ä»¶é»˜è®¤éŸ³è½¨çš„åˆ‡æ¢ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“ æ”¯æŒå¤šç§è§†é¢‘æ ¼å¼ (MP4, MKV, AVI, MOV, FLV, WMV, WebM)
- ğŸ§ è‡ªåŠ¨æ£€æµ‹è§†é¢‘æ–‡ä»¶ä¸­çš„æ‰€æœ‰éŸ³è½¨
- ğŸ”„ ä¸€é”®åˆ‡æ¢é»˜è®¤éŸ³è½¨
- ğŸ¨ ç°ä»£åŒ–çš„æ·±è‰²ä¸»é¢˜ç•Œé¢
- âš¡ è·¨å¹³å°æ”¯æŒ (Windows, macOS, Linux)
- ğŸš€ é«˜æ€§èƒ½çš„ Go åç«¯å¤„ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React + TypeScript + Vite
- **æ¡Œé¢æ¡†æ¶**: Tauri 2.0
- **åç«¯**: Go
- **è§†é¢‘å¤„ç†**: FFmpeg

## ğŸ“‹ å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

1. **Node.js** (v18 æˆ–æ›´é«˜ç‰ˆæœ¬)
2. **Rust** (æœ€æ–°ç¨³å®šç‰ˆ)
   - è®¿é—® https://www.rust-lang.org/learn/get-started å®‰è£…
3. **Go** (v1.21 æˆ–æ›´é«˜ç‰ˆæœ¬)
   - è®¿é—® https://golang.org/dl/ ä¸‹è½½å®‰è£…
4. **FFmpeg**
   - Windows: ä¸‹è½½å¹¶æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡
   - macOS: `brew install ffmpeg`
   - Linux: `sudo apt-get install ffmpeg` æˆ– `sudo yum install ffmpeg`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install
```

### 2. æ„å»º Go åç«¯

**Windows:**

```bash
npm run build:backend:win
```

**Linux/macOS:**

```bash
npm run build:backend
```

æˆ–è€…æ‰‹åŠ¨æ„å»ºï¼š

```bash
cd go-backend
go build -o ../src-tauri/audio-track-backend.exe main.go  # Windows
go build -o ../src-tauri/audio-track-backend main.go      # Linux/macOS
```

### 3. è¿è¡Œå¼€å‘ç¯å¢ƒ

```bash
npm run tauri dev
```

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run tauri build
```

æ„å»ºå®Œæˆåï¼Œå¯æ‰§è¡Œæ–‡ä»¶å°†ä½äº `src-tauri/target/release/` ç›®å½•ä¸­ã€‚

## ğŸ“– ä½¿ç”¨è¯´æ˜

1. **é€‰æ‹©è§†é¢‘æ–‡ä»¶**
   - ç‚¹å‡» "ğŸ“ Select Video File" æŒ‰é’®
   - é€‰æ‹©è¦å¤„ç†çš„è§†é¢‘æ–‡ä»¶

2. **æŸ¥çœ‹éŸ³è½¨ä¿¡æ¯**
   - ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºæ‰€æœ‰éŸ³è½¨
   - æ¯ä¸ªéŸ³è½¨æ˜¾ç¤ºï¼šç´¢å¼•ã€è¯­è¨€ã€æ ‡é¢˜ã€ç¼–ç æ ¼å¼

3. **åˆ‡æ¢é»˜è®¤éŸ³è½¨**
   - é€‰æ‹©æƒ³è¦è®¾ä¸ºé»˜è®¤çš„éŸ³è½¨
   - ç‚¹å‡» "âœ¨ Switch Default Track" æŒ‰é’®
   - ç­‰å¾…å¤„ç†å®Œæˆ

4. **è·å–è¾“å‡ºæ–‡ä»¶**
   - å¤„ç†å®Œæˆåï¼Œæ–°æ–‡ä»¶ä¼šä¿å­˜åœ¨åŸæ–‡ä»¶åŒç›®å½•
   - æ–‡ä»¶åæ ¼å¼ï¼š`åŸæ–‡ä»¶å_track{ç´¢å¼•}.æ‰©å±•å`

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
audio-track-switcher/
â”œâ”€â”€ src/                    # React å‰ç«¯æºç 
â”‚   â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css            # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ main.tsx           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ src-tauri/             # Tauri åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs         # Rust å‘½ä»¤å¤„ç†
â”‚   â”‚   â””â”€â”€ main.rs        # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ Cargo.toml         # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ go-backend/            # Go åç«¯
â”‚   â”œâ”€â”€ main.go            # FFmpeg é›†æˆé€»è¾‘
â”‚   â””â”€â”€ go.mod             # Go æ¨¡å—é…ç½®
â”œâ”€â”€ build-backend.sh       # Linux/macOS æ„å»ºè„šæœ¬
â”œâ”€â”€ build-backend.bat      # Windows æ„å»ºè„šæœ¬
â””â”€â”€ package.json           # Node.js é…ç½®
```

## ğŸ”§ å·¥ä½œåŸç†

1. **å‰ç«¯ (React)**ï¼šæä¾›ç”¨æˆ·ç•Œé¢ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’
2. **Tauri (Rust)**ï¼šä½œä¸ºä¸­é—´å±‚ï¼Œè°ƒç”¨ Go åç«¯ç¨‹åº
3. **Go åç«¯**ï¼šæ‰§è¡Œ FFmpeg å‘½ä»¤ï¼Œå¤„ç†è§†é¢‘éŸ³è½¨æ“ä½œ
4. **FFmpeg**ï¼šå®é™…çš„è§†é¢‘å¤„ç†å¼•æ“

### éŸ³è½¨åˆ‡æ¢æµç¨‹

```
ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ â†’ React UI â†’ Tauri Command â†’ Go Backend â†’ FFmpeg
                                                          â†“
ç”¨æˆ·è·å¾—ç»“æœ â† React UI â† Tauri Command â† Go Backend â† å¤„ç†å®Œæˆ
```

## âš ï¸ æ³¨æ„äº‹é¡¹

- ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… FFmpeg å¹¶å¯åœ¨å‘½ä»¤è¡Œä¸­è®¿é—®
- å¤„ç†å¤§æ–‡ä»¶æ—¶å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´
- è¾“å‡ºæ–‡ä»¶ä¼šä¿å­˜åœ¨åŸæ–‡ä»¶ç›¸åŒç›®å½•
- å»ºè®®åœ¨å¤„ç†å‰å¤‡ä»½é‡è¦è§†é¢‘æ–‡ä»¶

## ğŸ› å¸¸è§é—®é¢˜

### Q: æç¤ºæ‰¾ä¸åˆ° FFmpegï¼Ÿ

A: è¯·ç¡®ä¿ FFmpeg å·²å®‰è£…å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡ä¸­ã€‚

### Q: Go åç«¯ç¼–è¯‘å¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ Go ç‰ˆæœ¬æ˜¯å¦ä¸º 1.21 æˆ–æ›´é«˜ï¼Œå¹¶ç¡®ä¿ go-backend ç›®å½•ä¸‹æœ‰ go.mod æ–‡ä»¶ã€‚

### Q: Tauri å¼€å‘ç¯å¢ƒå¯åŠ¨å¤±è´¥ï¼Ÿ

A: ç¡®ä¿å·²å®‰è£… Rust å’Œç›¸å…³ä¾èµ–ï¼Œå‚è€ƒ https://tauri.app/start/prerequisites/

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ Issue åé¦ˆã€‚
